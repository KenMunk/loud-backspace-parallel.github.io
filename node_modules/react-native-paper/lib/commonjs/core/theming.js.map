{"version":3,"names":["DefaultTheme","MD3LightTheme","ThemeProvider","withTheme","useTheme","useAppTheme","createTheming","overrides","useInternalTheme","themeOverrides","withInternalTheme","WrappedComponent","defaultThemesByVersion","light","MD2LightTheme","dark","MD2DarkTheme","MD3DarkTheme","getTheme","isDark","isV3","themeVersion","scheme","adaptNavigationTheme","themes","getAdaptedTheme","navigationTheme","MD3Theme","colors","primary","background","card","elevation","level2","text","onSurface","border","outline","notification","error","modes","MD3Themes","NavigationThemes","adaptedLight","adaptedDark","reduce","prev","curr","LightTheme","DarkTheme","getDynamicThemeElevations","elevationValues","elevations","elevationValue","index","color","surface","mix","rgb","string"],"sources":["theming.tsx"],"sourcesContent":["import type { ComponentType } from 'react';\n\nimport { $DeepPartial, createTheming } from '@callstack/react-theme-provider';\nimport color from 'color';\n\nimport {\n  MD2DarkTheme,\n  MD2LightTheme,\n  MD3DarkTheme,\n  MD3LightTheme,\n} from '../styles/themes';\nimport type {\n  InternalTheme,\n  MD3Theme,\n  MD3AndroidColors,\n  NavigationTheme,\n} from '../types';\n\nexport const DefaultTheme = MD3LightTheme;\n\nexport const {\n  ThemeProvider,\n  withTheme,\n  useTheme: useAppTheme,\n} = createTheming<unknown>(MD3LightTheme);\n\nexport function useTheme<T = MD3Theme>(overrides?: $DeepPartial<T>) {\n  return useAppTheme<T>(overrides);\n}\n\nexport const useInternalTheme = (\n  themeOverrides?: $DeepPartial<InternalTheme>\n) => useAppTheme<InternalTheme>(themeOverrides);\n\nexport const withInternalTheme = <Props extends { theme: InternalTheme }, C>(\n  WrappedComponent: ComponentType<Props & { theme: InternalTheme }> & C\n) => withTheme<Props, C>(WrappedComponent);\n\nexport const defaultThemesByVersion = {\n  2: {\n    light: MD2LightTheme,\n    dark: MD2DarkTheme,\n  },\n  3: {\n    light: MD3LightTheme,\n    dark: MD3DarkTheme,\n  },\n};\n\nexport const getTheme = (isDark = false, isV3 = true) => {\n  const themeVersion = isV3 ? 3 : 2;\n  const scheme = isDark ? 'dark' : 'light';\n\n  return defaultThemesByVersion[themeVersion][scheme];\n};\n\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: { light: NavigationTheme }): {\n  LightTheme: NavigationTheme;\n};\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: { dark: NavigationTheme }): {\n  DarkTheme: NavigationTheme;\n};\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: {\n  light: NavigationTheme;\n  dark: NavigationTheme;\n}): { LightTheme: NavigationTheme; DarkTheme: NavigationTheme };\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: any) {\n  const { light, dark } = themes;\n\n  const getAdaptedTheme = (\n    navigationTheme: NavigationTheme,\n    MD3Theme: MD3Theme\n  ) => {\n    return {\n      ...navigationTheme,\n      colors: {\n        ...navigationTheme.colors,\n        primary: MD3Theme.colors.primary,\n        background: MD3Theme.colors.background,\n        card: MD3Theme.colors.elevation.level2,\n        text: MD3Theme.colors.onSurface,\n        border: MD3Theme.colors.outline,\n        notification: MD3Theme.colors.error,\n      },\n    };\n  };\n\n  if (light && dark) {\n    const modes = ['light', 'dark'] as const;\n\n    const MD3Themes = {\n      light: MD3LightTheme,\n      dark: MD3DarkTheme,\n    };\n\n    const NavigationThemes = {\n      light,\n      dark,\n    };\n\n    const { light: adaptedLight, dark: adaptedDark } = modes.reduce(\n      (prev, curr) => {\n        return {\n          ...prev,\n          [curr]: getAdaptedTheme(NavigationThemes[curr], MD3Themes[curr]),\n        };\n      },\n      {\n        light,\n        dark,\n      }\n    );\n\n    return {\n      LightTheme: adaptedLight,\n      DarkTheme: adaptedDark,\n    };\n  }\n\n  if (!light) {\n    return {\n      DarkTheme: getAdaptedTheme(dark, MD3DarkTheme),\n    };\n  }\n\n  return {\n    LightTheme: getAdaptedTheme(light, MD3LightTheme),\n  };\n}\n\nexport const getDynamicThemeElevations = (scheme: MD3AndroidColors) => {\n  const elevationValues = ['transparent', 0.05, 0.08, 0.11, 0.12, 0.14];\n  return elevationValues.reduce((elevations, elevationValue, index) => {\n    return {\n      ...elevations,\n      [`level${index}`]:\n        index === 0\n          ? elevationValue\n          : color(scheme.surface)\n              .mix(color(scheme.primary), elevationValue as number)\n              .rgb()\n              .string(),\n    };\n  }, {});\n};\n"],"mappings":"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"}